# An example of the boardtest yaml file.
# For more details see the [Boardtest Infrastructure] wiki page
# Note that DNS and DHCP info needs to be set up in the usual way
# for SiFive hosts and is not handled here.
#
# Sections:
#   pdus: pdu details
#   boards: board details
#   boardtypes: board type details
#
# Fields in pdus - primary key is the name used in the board sections
#   KEY: name of key used elsewhere
#   type: the type of the pdu
#     - apc_snmp: APC gen 2 PDU using SNMPv3
#   hostname: fully qualified hostname
#   user: the username for managing the PDU
#   pw: the pillar containing the password for managing the PDU
#
# Fields in testhosts - primary key is an arbitrary name
#   KEY: arbitrary key for testhost
#   node: Fully-qualified host name of the testhost
#   partition: SLURM partition
#   rack: the rack the system is installed in
#   shelf: the shelf within the rack
#   testnet: details on the test network connection for the testhost
#            see below
#   power: detail of power control - see below
# Fields in testhost:testnet
#   hostname: hostname for the test network interface
#   port: port on the testhost
#   vlan: vlan for the teset network interface
#   switch: switch for the test network interface
#   switchport: port on the switch for the test network interface
#   nfsserver: whether there's an NFS server on the test network interface
# Filed in testhost:power
#   type: the type of the power switching.  One of:
#     - none: no power switching (default)
#     - pdu: IP addressable PDU
#     - uhubctl: USB hub power driven by uhubctl
#   pdu: the name of the pdu from above (if a pdu)
#   loc: the location of the hub (if a USB hub)
#   port: the port on the PDU or USB hub
# Fields in testhosts:boards:boardN
#   id: the unique board identity of the testboard
#   type: the type of the test board.  As specified in ??
#   hostname: the hostname of the testboard network interface
#   
#   switch: the switch that the testboard is connected to
#   switchport: the switch port that the testboard is connected to
#


pdus:
  labpdu01:
    type: apc
    hostname: labpdu01.internal.sifive.com
    user: boardtest
    pw: super secret phrase

testhosts:
  test1:
    node: epsilon01.internal.sfive.com
    partition: boardtest
    rack: rack4001
    shelf: 01
    testnet:
      hostname: hostname for the test network interface
      port: eth1
      vlan: sf-lab-vlan
      switch: iswitch07
      switchport: ge-0/0/3
      nfsserver: true
    power:
      type: pdu
      pdu: labpdu01
      port: 1
    boards:
      board0:
        id: vc707_001
	type: vc707_4gb
        hostname: turtle
	net: true
        switchport: ge-0/0/4
  test2:
    node: epsilon02.internal.sifie.com
    partition: boardtest
    rack: rack4001
    shelf: 02
    power:
      type: uhubctl
      loc: 2-1
      port: 1
    boards:
      board0:
        id: arty_001
        type: arty100
        net: false
        
      
    
    
